2025-10-21 18:16:42,636 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP SCHEMA public CASCADE; CREATE SCHEMA public;
 2025-10-21 18:16:42,749 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']

SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
 2025-10-21 18:16:42,866 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Recipes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RecipeName" text NULL,
    "Description" text NULL,
    "PrepTime" integer NOT NULL,
    "CookTime" integer NOT NULL,
    "DateCreated" timestamp with time zone NOT NULL,
    "DateModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Recipes" PRIMARY KEY ("Id")
);
 2025-10-21 18:16:42,874 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "Ingredients" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "IngredientName" text NOT NULL,
    "Quantity" real NOT NULL,
    "MeasurementName" text NOT NULL,
    "RecipeId" integer NULL,
    "DateCreated" timestamp with time zone NOT NULL,
    "DateModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Ingredients" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Ingredients_Recipes_RecipeId" FOREIGN KEY ("RecipeId") REFERENCES "Recipes" ("Id")
);
 2025-10-21 18:16:42,883 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "RecipeSteps" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RecipeId" integer NOT NULL,
    "StepNumber" integer NOT NULL,
    "StepDescription" text NULL,
    "DateCreated" timestamp with time zone NOT NULL,
    "DateModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_RecipeSteps" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RecipeSteps_Recipes_RecipeId" FOREIGN KEY ("RecipeId") REFERENCES "Recipes" ("Id") ON DELETE CASCADE
);
 2025-10-21 18:16:42,887 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_Ingredients_RecipeId" ON "Ingredients" ("RecipeId");
 2025-10-21 18:16:42,892 [1]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_RecipeSteps_RecipeId" ON "RecipeSteps" ("RecipeId");
 2025-10-21 18:16:43,128 [1]  INFO Microsoft.Hosting.Lifetime.? [?] - MESSAGE: Now listening on: http://localhost:3000
 2025-10-21 18:16:43,212 [1]  INFO Microsoft.Hosting.Lifetime.OnApplicationStarted [0] - MESSAGE: Application started. Press Ctrl+C to shut down.
 2025-10-21 18:16:43,217 [1]  INFO Microsoft.Hosting.Lifetime.OnApplicationStarted [0] - MESSAGE: Hosting environment: Development
 2025-10-21 18:16:43,219 [1]  INFO Microsoft.Hosting.Lifetime.OnApplicationStarted [0] - MESSAGE: Content root path: C:\Users\Hieu\IdeaProjects\RecipeBookAPI\RecipeBook\RecipeBook
 2025-10-21 18:21:22,646 [17]  WARN Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.? [?] - MESSAGE: Failed to determine the https port for redirect.
 2025-10-21 18:25:46,304 [17]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."DateCreated", r."DateModified", r."RecipeId", r."StepDescription", r."StepNumber"
FROM "RecipeSteps" AS r
 2025-10-21 18:25:50,810 [26]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Recipes" ("CookTime", "DateCreated", "DateModified", "Description", "PrepTime", "RecipeName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
 2025-10-21 18:25:50,858 [16]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (6ms) [Parameters=[@p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = Single), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?', @p15='?', @p16='?' (DbType = Single), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?' (DbType = Single), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = Single), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p31='?' (DbType = DateTime), @p32='?', @p33='?', @p34='?' (DbType = Single), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime), @p37='?' (DbType = DateTime), @p38='?' (DbType = Int32), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime), @p42='?' (DbType = DateTime), @p43='?' (DbType = Int32), @p44='?', @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime), @p47='?' (DbType = DateTime), @p48='?' (DbType = Int32), @p49='?', @p50='?' (DbType = Int32), @p51='?' (DbType = DateTime), @p52='?' (DbType = DateTime), @p53='?' (DbType = Int32), @p54='?', @p55='?' (DbType = Int32), @p56='?' (DbType = DateTime), @p57='?' (DbType = DateTime), @p58='?' (DbType = Int32), @p59='?', @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime), @p62='?' (DbType = DateTime), @p63='?' (DbType = Int32), @p64='?', @p65='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p36, @p37, @p38, @p39, @p40)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p41, @p42, @p43, @p44, @p45)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p46, @p47, @p48, @p49, @p50)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p51, @p52, @p53, @p54, @p55)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p56, @p57, @p58, @p59, @p60)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p61, @p62, @p63, @p64, @p65)
RETURNING "Id";
 2025-10-21 18:28:07,904 [26]  WARN Microsoft.EntityFrameworkCore.Query.? [?] - MESSAGE: Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
 2025-10-21 18:28:07,933 [34]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CookTime", t."DateCreated", t."DateModified", t."Description", t."PrepTime", t."RecipeName", i."Id", i."DateCreated", i."DateModified", i."IngredientName", i."MeasurementName", i."Quantity", i."RecipeId", r0."Id", r0."DateCreated", r0."DateModified", r0."RecipeId", r0."StepDescription", r0."StepNumber"
FROM (
    SELECT r."Id", r."CookTime", r."DateCreated", r."DateModified", r."Description", r."PrepTime", r."RecipeName"
    FROM "Recipes" AS r
    WHERE r."Id" = @__id_0
    LIMIT 2
) AS t
LEFT JOIN "Ingredients" AS i ON t."Id" = i."RecipeId"
LEFT JOIN "RecipeSteps" AS r0 ON t."Id" = r0."RecipeId"
ORDER BY t."Id", i."Id"
 2025-10-21 18:30:39,160 [41]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Single), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = Single), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?', @p15='?', @p16='?' (DbType = Single), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?' (DbType = Single), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = Single), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p31='?' (DbType = DateTime), @p32='?', @p33='?', @p34='?' (DbType = Single), @p35='?' (DbType = Int32), @p36='?' (DbType = DateTime), @p37='?' (DbType = DateTime), @p38='?' (DbType = Int32), @p39='?', @p40='?' (DbType = Int32), @p41='?' (DbType = DateTime), @p42='?' (DbType = DateTime), @p43='?' (DbType = Int32), @p44='?', @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime), @p47='?' (DbType = DateTime), @p48='?' (DbType = Int32), @p49='?', @p50='?' (DbType = Int32), @p51='?' (DbType = DateTime), @p52='?' (DbType = DateTime), @p53='?' (DbType = Int32), @p54='?', @p55='?' (DbType = Int32), @p56='?' (DbType = DateTime), @p57='?' (DbType = DateTime), @p58='?' (DbType = Int32), @p59='?', @p60='?' (DbType = Int32), @p61='?' (DbType = DateTime), @p62='?' (DbType = DateTime), @p63='?' (DbType = Int32), @p64='?', @p65='?' (DbType = Int32), @p72='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime), @p68='?' (DbType = DateTime), @p69='?', @p70='?' (DbType = Int32), @p71='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "Ingredients" ("DateCreated", "DateModified", "IngredientName", "MeasurementName", "Quantity", "RecipeId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p36, @p37, @p38, @p39, @p40)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p41, @p42, @p43, @p44, @p45)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p46, @p47, @p48, @p49, @p50)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p51, @p52, @p53, @p54, @p55)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p56, @p57, @p58, @p59, @p60)
RETURNING "Id";
INSERT INTO "RecipeSteps" ("DateCreated", "DateModified", "RecipeId", "StepDescription", "StepNumber")
VALUES (@p61, @p62, @p63, @p64, @p65)
RETURNING "Id";
UPDATE "Recipes" SET "CookTime" = @p66, "DateCreated" = @p67, "DateModified" = @p68, "Description" = @p69, "PrepTime" = @p70, "RecipeName" = @p71
WHERE "Id" = @p72;
 2025-10-21 18:31:18,990 [41]  INFO Microsoft.EntityFrameworkCore.Database.Command.? [?] - MESSAGE: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CookTime", t."DateCreated", t."DateModified", t."Description", t."PrepTime", t."RecipeName", i."Id", i."DateCreated", i."DateModified", i."IngredientName", i."MeasurementName", i."Quantity", i."RecipeId", r0."Id", r0."DateCreated", r0."DateModified", r0."RecipeId", r0."StepDescription", r0."StepNumber"
FROM (
    SELECT r."Id", r."CookTime", r."DateCreated", r."DateModified", r."Description", r."PrepTime", r."RecipeName"
    FROM "Recipes" AS r
    WHERE r."Id" = @__id_0
    LIMIT 2
) AS t
LEFT JOIN "Ingredients" AS i ON t."Id" = i."RecipeId"
LEFT JOIN "RecipeSteps" AS r0 ON t."Id" = r0."RecipeId"
ORDER BY t."Id", i."Id"
 